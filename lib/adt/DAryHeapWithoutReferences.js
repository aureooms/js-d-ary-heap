'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.default = DAryHeapWithoutReferences;

var _core = require('../core');

function DAryHeapWithoutReferences(arity, compare) {

	// arity of this heap

	this.arity = arity;

	// the comparison function

	this.compare = compare;

	// array used to store values

	this.array = [];

	// size of the heap

	this.length = 0;
}

DAryHeapWithoutReferences.prototype.swap = function (a, i, j) {

	var tmp = a[i];
	a[i] = a[j];
	a[j] = tmp;
};

DAryHeapWithoutReferences.prototype.head = function () {

	if (this.length === 0) {
		return undefined;
	}

	return this.array[0];
};

DAryHeapWithoutReferences.prototype.pop = function () {

	var a, i, j, value;

	if (this.length === 0) {
		return undefined;
	}

	a = this.array;
	i = 0;
	j = a.length;

	value = (0, _core.pop)(this.arity, this.compare, this.swap, a, i, j);

	a.pop();

	--this.length;

	return value;
};

DAryHeapWithoutReferences.prototype.push = function (value) {

	var a, i, j;

	a = this.array;
	i = 0;
	j = a.length;

	a.push(value);

	(0, _core.push)(this.arity, this.compare, this.swap, a, i, j);

	++this.length;
};

DAryHeapWithoutReferences.prototype.merge = function (other) {

	var a, i, j, k;

	a = this.array;
	i = 0;
	j = a.length;

	a = this.array = a.concat(other.array);

	k = a.length;

	(0, _core.merge)(this.arity, this.compare, this.swap, a, i, j, k);

	this.length += other.length;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9hZHQvREFyeUhlYXBXaXRob3V0UmVmZXJlbmNlcy5qcyJdLCJuYW1lcyI6WyJEQXJ5SGVhcFdpdGhvdXRSZWZlcmVuY2VzIiwiYXJpdHkiLCJjb21wYXJlIiwiYXJyYXkiLCJsZW5ndGgiLCJwcm90b3R5cGUiLCJzd2FwIiwiYSIsImkiLCJqIiwidG1wIiwiaGVhZCIsInVuZGVmaW5lZCIsInBvcCIsInZhbHVlIiwicHVzaCIsIm1lcmdlIiwib3RoZXIiLCJrIiwiY29uY2F0Il0sIm1hcHBpbmdzIjoiOzs7OztrQkFHd0JBLHlCOztBQUZ4Qjs7QUFFZSxTQUFTQSx5QkFBVCxDQUFxQ0MsS0FBckMsRUFBNENDLE9BQTVDLEVBQXNEOztBQUVwRTs7QUFFQSxNQUFLRCxLQUFMLEdBQWFBLEtBQWI7O0FBR0E7O0FBRUEsTUFBS0MsT0FBTCxHQUFlQSxPQUFmOztBQUdBOztBQUVBLE1BQUtDLEtBQUwsR0FBYSxFQUFiOztBQUdBOztBQUVBLE1BQUtDLE1BQUwsR0FBYyxDQUFkO0FBRUE7O0FBR0RKLDBCQUEwQkssU0FBMUIsQ0FBb0NDLElBQXBDLEdBQTJDLFVBQVdDLENBQVgsRUFBY0MsQ0FBZCxFQUFpQkMsQ0FBakIsRUFBcUI7O0FBRS9ELEtBQU1DLE1BQU1ILEVBQUVDLENBQUYsQ0FBWjtBQUNBRCxHQUFFQyxDQUFGLElBQU9ELEVBQUVFLENBQUYsQ0FBUDtBQUNBRixHQUFFRSxDQUFGLElBQU9DLEdBQVA7QUFFQSxDQU5EOztBQVNBViwwQkFBMEJLLFNBQTFCLENBQW9DTSxJQUFwQyxHQUEyQyxZQUFZOztBQUV0RCxLQUFLLEtBQUtQLE1BQUwsS0FBZ0IsQ0FBckIsRUFBeUI7QUFDeEIsU0FBT1EsU0FBUDtBQUNBOztBQUVELFFBQU8sS0FBS1QsS0FBTCxDQUFXLENBQVgsQ0FBUDtBQUVBLENBUkQ7O0FBV0FILDBCQUEwQkssU0FBMUIsQ0FBb0NRLEdBQXBDLEdBQTBDLFlBQVk7O0FBRXJELEtBQUlOLENBQUosRUFBT0MsQ0FBUCxFQUFVQyxDQUFWLEVBQWFLLEtBQWI7O0FBRUEsS0FBSyxLQUFLVixNQUFMLEtBQWdCLENBQXJCLEVBQXlCO0FBQ3hCLFNBQU9RLFNBQVA7QUFDQTs7QUFFREwsS0FBSSxLQUFLSixLQUFUO0FBQ0FLLEtBQUksQ0FBSjtBQUNBQyxLQUFJRixFQUFFSCxNQUFOOztBQUVBVSxTQUFRLGVBQUssS0FBS2IsS0FBVixFQUFpQixLQUFLQyxPQUF0QixFQUErQixLQUFLSSxJQUFwQyxFQUEwQ0MsQ0FBMUMsRUFBNkNDLENBQTdDLEVBQWdEQyxDQUFoRCxDQUFSOztBQUVBRixHQUFFTSxHQUFGOztBQUVBLEdBQUUsS0FBS1QsTUFBUDs7QUFFQSxRQUFPVSxLQUFQO0FBRUEsQ0FwQkQ7O0FBdUJBZCwwQkFBMEJLLFNBQTFCLENBQW9DVSxJQUFwQyxHQUEyQyxVQUFXRCxLQUFYLEVBQW1COztBQUU3RCxLQUFJUCxDQUFKLEVBQU9DLENBQVAsRUFBVUMsQ0FBVjs7QUFFQUYsS0FBSSxLQUFLSixLQUFUO0FBQ0FLLEtBQUksQ0FBSjtBQUNBQyxLQUFJRixFQUFFSCxNQUFOOztBQUdBRyxHQUFFUSxJQUFGLENBQVFELEtBQVI7O0FBRUEsaUJBQU0sS0FBS2IsS0FBWCxFQUFrQixLQUFLQyxPQUF2QixFQUFnQyxLQUFLSSxJQUFyQyxFQUEyQ0MsQ0FBM0MsRUFBOENDLENBQTlDLEVBQWlEQyxDQUFqRDs7QUFFQSxHQUFFLEtBQUtMLE1BQVA7QUFFQSxDQWZEOztBQWlCQUosMEJBQTBCSyxTQUExQixDQUFvQ1csS0FBcEMsR0FBNEMsVUFBV0MsS0FBWCxFQUFtQjs7QUFFOUQsS0FBSVYsQ0FBSixFQUFPQyxDQUFQLEVBQVVDLENBQVYsRUFBYVMsQ0FBYjs7QUFFQVgsS0FBSSxLQUFLSixLQUFUO0FBQ0FLLEtBQUksQ0FBSjtBQUNBQyxLQUFJRixFQUFFSCxNQUFOOztBQUVBRyxLQUFJLEtBQUtKLEtBQUwsR0FBYUksRUFBRVksTUFBRixDQUFVRixNQUFNZCxLQUFoQixDQUFqQjs7QUFFQWUsS0FBSVgsRUFBRUgsTUFBTjs7QUFFQSxrQkFBTyxLQUFLSCxLQUFaLEVBQW1CLEtBQUtDLE9BQXhCLEVBQWlDLEtBQUtJLElBQXRDLEVBQTRDQyxDQUE1QyxFQUErQ0MsQ0FBL0MsRUFBa0RDLENBQWxELEVBQXFEUyxDQUFyRDs7QUFFQSxNQUFLZCxNQUFMLElBQWVhLE1BQU1iLE1BQXJCO0FBRUEsQ0FoQkQiLCJmaWxlIjoiREFyeUhlYXBXaXRob3V0UmVmZXJlbmNlcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHsgcG9wICwgcHVzaCAsIG1lcmdlIH0gZnJvbSAnLi4vY29yZScgO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEQXJ5SGVhcFdpdGhvdXRSZWZlcmVuY2VzICggYXJpdHksIGNvbXBhcmUgKSB7XG5cblx0Ly8gYXJpdHkgb2YgdGhpcyBoZWFwXG5cblx0dGhpcy5hcml0eSA9IGFyaXR5O1xuXG5cblx0Ly8gdGhlIGNvbXBhcmlzb24gZnVuY3Rpb25cblxuXHR0aGlzLmNvbXBhcmUgPSBjb21wYXJlO1xuXG5cblx0Ly8gYXJyYXkgdXNlZCB0byBzdG9yZSB2YWx1ZXNcblxuXHR0aGlzLmFycmF5ID0gW107XG5cblxuXHQvLyBzaXplIG9mIHRoZSBoZWFwXG5cblx0dGhpcy5sZW5ndGggPSAwO1xuXG59XG5cblxuREFyeUhlYXBXaXRob3V0UmVmZXJlbmNlcy5wcm90b3R5cGUuc3dhcCA9IGZ1bmN0aW9uICggYSwgaSwgaiApIHtcblxuXHRjb25zdCB0bXAgPSBhW2ldO1xuXHRhW2ldID0gYVtqXTtcblx0YVtqXSA9IHRtcDtcblxufTtcblxuXG5EQXJ5SGVhcFdpdGhvdXRSZWZlcmVuY2VzLnByb3RvdHlwZS5oZWFkID0gZnVuY3Rpb24gKCkge1xuXG5cdGlmICggdGhpcy5sZW5ndGggPT09IDAgKSB7XG5cdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0fVxuXG5cdHJldHVybiB0aGlzLmFycmF5WzBdO1xuXG59O1xuXG5cbkRBcnlIZWFwV2l0aG91dFJlZmVyZW5jZXMucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uICgpIHtcblxuXHR2YXIgYSwgaSwgaiwgdmFsdWU7XG5cblx0aWYgKCB0aGlzLmxlbmd0aCA9PT0gMCApIHtcblx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHR9XG5cblx0YSA9IHRoaXMuYXJyYXk7XG5cdGkgPSAwO1xuXHRqID0gYS5sZW5ndGg7XG5cblx0dmFsdWUgPSBwb3AoIHRoaXMuYXJpdHksIHRoaXMuY29tcGFyZSwgdGhpcy5zd2FwLCBhLCBpLCBqICk7XG5cblx0YS5wb3AoKTtcblxuXHQtLXRoaXMubGVuZ3RoO1xuXG5cdHJldHVybiB2YWx1ZTtcblxufTtcblxuXG5EQXJ5SGVhcFdpdGhvdXRSZWZlcmVuY2VzLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKCB2YWx1ZSApIHtcblxuXHR2YXIgYSwgaSwgajtcblxuXHRhID0gdGhpcy5hcnJheTtcblx0aSA9IDA7XG5cdGogPSBhLmxlbmd0aDtcblxuXG5cdGEucHVzaCggdmFsdWUgKTtcblxuXHRwdXNoKCB0aGlzLmFyaXR5LCB0aGlzLmNvbXBhcmUsIHRoaXMuc3dhcCwgYSwgaSwgaiApO1xuXG5cdCsrdGhpcy5sZW5ndGg7XG5cbn07XG5cbkRBcnlIZWFwV2l0aG91dFJlZmVyZW5jZXMucHJvdG90eXBlLm1lcmdlID0gZnVuY3Rpb24gKCBvdGhlciApIHtcblxuXHR2YXIgYSwgaSwgaiwgaztcblxuXHRhID0gdGhpcy5hcnJheTtcblx0aSA9IDA7XG5cdGogPSBhLmxlbmd0aDtcblxuXHRhID0gdGhpcy5hcnJheSA9IGEuY29uY2F0KCBvdGhlci5hcnJheSApO1xuXG5cdGsgPSBhLmxlbmd0aDtcblxuXHRtZXJnZSggdGhpcy5hcml0eSwgdGhpcy5jb21wYXJlLCB0aGlzLnN3YXAsIGEsIGksIGosIGsgKTtcblxuXHR0aGlzLmxlbmd0aCArPSBvdGhlci5sZW5ndGg7XG5cbn07XG4iXX0=